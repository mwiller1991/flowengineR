% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/2_2_zzz_helper_execution_stability_checks.R
\name{check_stability_mean_relative}
\alias{check_stability_mean_relative}
\title{Internal Stability Strategy: Relative Change in Mean (Window vs Global)}
\usage{
check_stability_mean_relative(values, threshold, window, fun = NULL)
}
\arguments{
\item{values}{Numeric vector. Complete list of metric values.}

\item{threshold}{Numeric. Maximum allowed relative difference.}

\item{window}{Integer. Number of trailing values to use for local mean.}

\item{fun}{Ignored. Included for compatibility with the custom strategy interface.}
}
\value{
A named list:
\itemize{
\item \code{is_stable}: Logical. Whether convergence is reached.
\item \code{stability_value}: Computed relative deviation.
\item \code{threshold_value}: Threshold used for comparison.
\item \code{strategy}: Fixed string \code{"mean_relative"}.
}
}
\description{
Compares the mean of the full metric history to the mean of the most recent values
(window) and checks whether their relative difference is below a defined threshold.
Used to assess convergence behavior in adaptive workflows.
}
\details{
\strong{Stability Rule:}
\itemize{
\item Compute global mean across all metric values.
\item Compute window mean over the trailing \code{window} values.
\item Calculate relative deviation:
\verb{|window_mean - global_mean| / |global_mean|}
\item Stability is confirmed if this relative value is below \code{threshold}.
}

\strong{Notes:}
\itemize{
\item Handles division-by-zero via fallback (\code{1e-8}) to avoid instability.
\item This is a fixed strategy; the \code{fun} argument is ignored and exists for compatibility only.
}
}
\keyword{internal}
